<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>관찰 속성 - 계산형 속성으로 전환</title>
    <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
    <style></style>
</head>
<body>
    <div id="example">
        x : <input type="text" v-model="x" /><br />
        y : <input type="text" v-model="y" /><br />
        덧셈결과 : {{sum}}
    </div>
    <script>
        //관찰형 속성
        /*
        var vm = new Vue({
            el : "#example",
            data : {x : 0, y : 0, sum : 0},
            watch : {
                x : function(v) {
                    console.log("## X 변경");
                    var result = Number(v) + Number(this.y);
                    if (isNaN(result)) {
                        this.sum = 0;
                    } else {
                        this.sum = result;
                    }
                },
                y : function(v) {
                    console.log("## Y 변경");
                    this.y = v;
                    var result = Number(this.x) + Number(v);
                    if (isNaN(result)) {
                        this.sum = 0;
                    } else {
                        this.sum = result;
                    }
                }
            } 
        });
        */
        //계산형 속성
        var vm = new Vue({
            el : "#example",
            data : { x:0, y:0 },
            computed : {
                sum : function(){
                    var result = Number(this.x) + Number(this.y);
                    if (isNaN(result)) {
                        return 0;
                    } else {
                        return result;
                    }
                }
            }
        });
    </script>
</body>
</html>